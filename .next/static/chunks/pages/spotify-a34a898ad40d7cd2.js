(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{3450:function(e,i,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/spotify",function(){return n(119)}])},119:function(e,i,n){"use strict";n.r(i),n.d(i,{__N_SSG:function(){return P},default:function(){return M}});var t=n(5893),r=n(7294),l=n(5771),s=n(8017),a=n(3306),o=n(4115),d=n(4096),u=n(8530),c=n(58),x=n(2363),m=n(7154),h=n(2241),f=n(980),g=n(9508),p=n(5675),v=n(9690),j=n.n(v),b=function(e){var i,n,l,a=e.song,u=e.titleCard,c=e.isPlaying,m=(0,r.useState)(!1),h=m[0],v=m[1];return(0,t.jsx)(s.xu,{as:"a",href:null===(i=a.external_urls)||void 0===i?void 0:i.spotify,h:"full",w:"full",isTruncated:!0,overflow:"visible",children:(0,t.jsxs)(x.M,{my:5,p:5,overflow:"visible",width:"full",maxWidth:"2xl",templateColumns:"".concat(u?"150px":"110px"," 1fr"),border:"1px solid",bg:(0,f.useColorModeValue)("white","gray.900"),borderColor:(0,f.useColorModeValue)("gray.200","gray.700"),boxShadow:"lg",transition:"all 0.25s",borderRadius:"2xl",transitionTimingFunction:"spring(1 100 10 10)",_hover:{transform:"translateY(-4px)",shadow:"xl"},children:[(0,t.jsx)(g.Od,{borderRadius:"2xl",boxSize:u?"150px":"110px",isLoaded:h,children:(0,t.jsx)(p.default,{alt:(null===a||void 0===a?void 0:a.name)+" album cover",className:j().image,width:u?"150px":"110px",height:u?"150px":"110px",onLoad:function(){return v(!0)},src:a.albumImageUrl||a.album.images.filter((function(e){return e.height>109})).slice(-1)[0].url})}),(0,t.jsxs)(d.k,{direction:"column",ml:5,maxWidth:"full",isTruncated:!0,children:[(0,t.jsx)(o.x,{isTruncated:!0,maxWidth:"full",fontSize:u?{base:"2xl",md:"3xl"}:{base:"xl",md:"2xl"},fontWeight:"semibold",children:"".concat(a.name).concat(u&&!c?" - Paused":"")}),(0,t.jsxs)(d.k,{direction:"column",color:(0,f.useColorModeValue)("gray.600","gray.400"),mt:2,isTruncated:!0,width:"full",fontSize:{base:"sm",sm:"md"},children:[(0,t.jsxs)(o.x,{isTruncated:!0,maxWidth:"full",children:["Album \u2022 ",a.album.name||a.album]}),(0,t.jsxs)(o.x,{isTruncated:!0,maxWidth:"full",children:["Artist",(null===(n=a.artists)||void 0===n?void 0:n.length)>1&&"s"," \u2022"," ",a.artist||(null===(l=a.artists)||void 0===l?void 0:l.map((function(e){return e.name})).join(", "))]})]})]})]})})},w=function(e){var i=e.artist,n=(0,r.useState)(!1),l=n[0],a=n[1];return(0,t.jsxs)(s.xu,{overflow:"visible",position:"relative",maxHeight:"150px",maxWidth:"150px",mx:"auto",boxShadow:"dark-lg",outline:"none",transition:"all 0.25s",borderRadius:"2xl",transitionTimingFunction:"spring(1 100 10 10)",_hover:{transform:"translateY(-4px)",shadow:"dark-xl"},children:[(0,t.jsx)(g.Od,{overflow:"visible",maxWidth:"150px",borderRadius:"2xl",maxHeight:"150px",boxSize:"full",mx:"auto",isLoaded:l,children:(0,t.jsx)(p.default,{className:j().artistImage,alt:(null===i||void 0===i?void 0:i.name)+" artist image",width:"150px",height:"150px",onLoad:function(){return a(!0)},src:i.images.filter((function(e){return e.height>=150})).slice(-1)[0].url})}),(0,t.jsx)(o.x,{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontWeight:"semibold",fontSize:"lg",display:"inline",maxWidth:"150px",width:"full",color:"white",textAlign:"center",zIndex:100,children:i.name})]})},y=function(e){var i=e.songs;return(0,t.jsxs)(d.k,{direction:"column",maxW:"2xl",width:"full",mx:"auto",isTruncated:!0,overflow:"visible",children:[(0,t.jsx)(h.Z,{alignSelf:"center",mb:5,children:"Top Songs"}),i.map((function(e){return(0,t.jsx)(b,{song:e},e.id)}))]})},_=function(e){var i=e.artists;return(0,t.jsxs)(d.k,{direction:"column",maxW:"xl",width:"full",mx:"auto",overflow:"visible",children:[(0,t.jsx)(h.Z,{alignSelf:"center",mb:"4",children:"Top Artists"}),(0,t.jsx)(x.M,{bg:"transparent",columns:{sm:1,md:3},spacing:5,my:5,p:5,width:"full",overflow:"visible",height:"full",children:i.map((function(e){return(0,t.jsx)(w,{artist:e},e.id)}))})]})},S=function(e){var i=e.songs;return(0,t.jsxs)(d.k,{direction:"column",width:"full",maxW:"2xl",mx:"auto",overflow:"visible",children:[(0,t.jsx)(h.Z,{alignSelf:"center",mb:5,children:"Recently Played Songs"}),i.map((function(e,i){return(0,t.jsx)(b,{song:e.track},i.toString()+e.track.id)}))]})},k=function(e){var i=e.song;return(0,t.jsxs)(d.k,{direction:"column",alignItems:"center",width:"full",mx:"auto",children:[(0,t.jsx)(h.Z,{mb:"4",children:"Currently playing"}),(null===i||void 0===i?void 0:i.isPlaying)?(0,t.jsx)(b,{song:i,titleCard:!0,isPlaying:i.isPlaying}):(0,t.jsx)(o.x,{children:"Nothing playing"})]})},T=n(2962),W=n(8767),z=function(e){var i=e.children;return(0,l.S)({base:!1,md:!0})?(0,t.jsx)(m.pT,{cascade:!0,delay:1e3,triggerOnce:!0,children:i}):i},C=function(e){var i=e.children;return(0,l.S)({base:!1,md:!0})?(0,t.jsx)(m.pT,{direction:"up",triggerOnce:!0,cascade:!0,children:i}):i};var P=!0,M=function(e){var i=e.data,n=e.error,r=(0,W.useQuery)("currentlyPlaying",(function(){return fetch("/api/get-now-playing").then((function(e){return e.json()}))}),{refetchOnMount:!0}),l=r.error,m=r.data;return n||l?(0,t.jsx)("div",{children:"There was an error fetching data from spotify"}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(T.PB,{title:"Music"})," ",(0,t.jsxs)(s.xu,{width:"full",maxW:{base:"full",lg:"7xl",xl:"8xl"},px:{base:2,md:5},pb:{base:16,md:28},mx:"auto",children:[(0,t.jsxs)(C,{children:[(0,t.jsx)(a.X,{pt:"28",fontSize:{base:"3xl",sm:"4xl",md:"5xl",lg:"6xl"},textAlign:"center",children:"Here's what I'm listening to at the moment"}),(0,t.jsx)(o.x,{textAlign:"center",pt:"5",children:"*Top Songs and Artists over the past 6 months"}),(0,t.jsx)(d.k,{justifyContent:"center",children:(0,t.jsx)(u.z,{as:"a",href:"https://open.spotify.com/user/31xl7hwxkqrdf6xlt608i3kmg?si=XOKTjryTQdea1kF90ZkOfQ",variant:"ghost",colorScheme:"brand",size:"lg",mt:5,leftIcon:(0,t.jsx)(c.J,{viewBox:"0 0 168 168",children:(0,t.jsx)("path",{fill:"#1ED760",d:"M83.996.277C37.747.277.253 37.77.253 84.019c0 46.251 37.494 83.741 83.743 83.741 46.254 0 83.744-37.49 83.744-83.741 0-46.246-37.49-83.738-83.745-83.738l.001-.004zm38.404 120.78a5.217 5.217 0 01-7.18 1.73c-19.662-12.01-44.414-14.73-73.564-8.07a5.222 5.222 0 01-6.249-3.93 5.213 5.213 0 013.926-6.25c31.9-7.291 59.263-4.15 81.337 9.34 2.46 1.51 3.24 4.72 1.73 7.18zm10.25-22.805c-1.89 3.075-5.91 4.045-8.98 2.155-22.51-13.839-56.823-17.846-83.448-9.764-3.453 1.043-7.1-.903-8.148-4.35a6.538 6.538 0 014.354-8.143c30.413-9.228 68.222-4.758 94.072 11.127 3.07 1.89 4.04 5.91 2.15 8.976v-.001zm.88-23.744c-26.99-16.031-71.52-17.505-97.289-9.684-4.138 1.255-8.514-1.081-9.768-5.219a7.835 7.835 0 015.221-9.771c29.581-8.98 78.756-7.245 109.83 11.202a7.823 7.823 0 012.74 10.733c-2.2 3.722-7.02 4.949-10.73 2.739z"})}),children:"View My Profile"})})]}),(0,t.jsx)(x.M,{columns:{base:1,lg:2},height:"full",width:"full",maxWidth:"full",spacingY:10,spacingX:10,pt:16,children:(0,t.jsxs)(z,{children:[(0,t.jsx)(_,{artists:i.artists.items}),(0,t.jsx)(k,{song:m}),(0,t.jsx)(y,{songs:i.songs.items}),(0,t.jsx)(S,{songs:i.recentlyPlayed.items})]})})]})]})}},9690:function(e){e.exports={image:"styles_image__K6S7k",artistImage:"styles_artistImage__vy58k"}}},function(e){e.O(0,[51,774,888,179],(function(){return i=3450,e(e.s=i);var i}));var i=e.O();_N_E=i}]);